# Documentation: `torch/distributed/tensor/debug/__init__.py`

## File Metadata

- **Path**: `torch/distributed/tensor/debug/__init__.py`
- **Size**: 1,807 bytes (1.76 KB)
- **Type**: Python Source Code
- **Extension**: `.py`

## File Purpose

This is a **Python package initialization file**.

## Original Source

```python
# mypy: allow-untyped-defs
import torch._C
from torch.distributed.tensor.debug._comm_mode import CommDebugMode
from torch.distributed.tensor.debug._visualize_sharding import visualize_sharding


__all__ = ["CommDebugMode", "visualize_sharding"]


def _get_python_sharding_prop_cache_info():
    """
    Get the cache info for the Python sharding propagation cache, used for debugging purpose only.
    This would return a named tuple showing hits, misses, maxsize and cursize of the sharding
    propagator cache. Note that directly calling into the sharding propagator does not share cache
    state with the DTensor dispatch fast path!
    """
    from torch.distributed.tensor._api import DTensor

    return (
        DTensor._op_dispatcher.sharding_propagator.propagate_op_sharding.cache_info()  # type:ignore[attr-defined]
    )


def _get_fast_path_sharding_prop_cache_stats():
    """
    Get a tuple (hits, misses) for the fast path sharding propagation cache, used for debugging
    only.
    """
    return torch._C._get_DTensor_sharding_propagator_cache_stats()


def _clear_python_sharding_prop_cache():
    """
    Clears the cache for the Python sharding propagation cache, used for debugging purpose only.
    """
    from torch.distributed.tensor._api import DTensor

    return (
        DTensor._op_dispatcher.sharding_propagator.propagate_op_sharding.cache_clear()  # type:ignore[attr-defined]
    )


def _clear_fast_path_sharding_prop_cache():
    """
    Clears the cache for the fast path sharding propagation cache, used for debugging purpose only.
    """
    torch._C._clear_DTensor_sharding_propagator_cache()


# Set namespace for exposed private names
CommDebugMode.__module__ = "torch.distributed.tensor.debug"
visualize_sharding.__module__ = "torch.distributed.tensor.debug"

```



## High-Level Overview

"""    Get the cache info for the Python sharding propagation cache, used for debugging purpose only.    This would return a named tuple showing hits, misses, maxsize and cursize of the sharding    propagator cache. Note that directly calling into the sharding propagator does not share cache    state with the DTensor dispatch fast path!

This Python file contains 0 class(es) and 4 function(s).

## Detailed Analysis

### Code Structure

**Functions defined**: `_get_python_sharding_prop_cache_info`, `_get_fast_path_sharding_prop_cache_stats`, `_clear_python_sharding_prop_cache`, `_clear_fast_path_sharding_prop_cache`

**Key imports**: torch._C, CommDebugMode, visualize_sharding, DTensor, DTensor


*For complete code details, see the Original Source section above.*


## Architecture & Design

### Role in PyTorch Architecture

This file is located in `torch/distributed/tensor/debug`, which is part of the **core PyTorch library**.



## Dependencies

### Import Dependencies

This file imports:

- `torch._C`
- `torch.distributed.tensor.debug._comm_mode`: CommDebugMode
- `torch.distributed.tensor.debug._visualize_sharding`: visualize_sharding
- `torch.distributed.tensor._api`: DTensor


## Code Patterns & Idioms

### Common Patterns

*No specific patterns automatically detected.*


## Performance Considerations

### Performance Notes

- Implements or uses **caching** mechanisms.

*Detailed performance analysis requires profiling and benchmarking.*


## Security & Safety

### Security Considerations

- No obvious security concerns detected in automated analysis.

*Manual security review is recommended for production code.*


## Testing & Usage

### Testing

Test files for this module may be located in the `test/` directory.

### Usage Examples

*See the source code and related test files for usage examples.*


## Related Files

### Related Files

Files in the same folder (`torch/distributed/tensor/debug`):

- [`_op_coverage.py_docs.md`](./_op_coverage.py_docs.md)
- [`_visualize_sharding.py_docs.md`](./_visualize_sharding.py_docs.md)
- [`_comm_mode.py_docs.md`](./_comm_mode.py_docs.md)
- [`comm_mode_broswer_visual.js_docs.md`](./comm_mode_broswer_visual.js_docs.md)


## Cross-References

- **File Documentation**: `__init__.py_docs.md`
- **Keyword Index**: `__init__.py_kw.md`
- **Folder Index**: `index.md`
- **Folder Documentation**: `doc.md`

---

*Generated by PyTorch Repository Documentation System*
