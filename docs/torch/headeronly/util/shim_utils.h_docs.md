# Documentation: shim_utils.h

## File Metadata
- **Path**: `torch/headeronly/util/shim_utils.h`
- **Size**: 1028 bytes
- **Lines**: 29
- **Extension**: .h
- **Type**: Regular file

## Original Source

```h
#pragma once

#include <torch/headeronly/macros/Macros.h>

#include <sstream>
#include <stdexcept>

#define TORCH_SUCCESS 0
#define TORCH_FAILURE 1

HIDDEN_NAMESPACE_BEGIN(torch, headeronly, detail)
[[maybe_unused]] C10_NOINLINE static void throw_exception(
    const char* call,
    const char* file,
    int64_t line) {
  std::stringstream ss;
  ss << call << " API call failed at " << file << ", line " << line;
  throw std::runtime_error(ss.str());
}
HIDDEN_NAMESPACE_END(torch, headeronly, detail)

// This API is 100% inspired by AOTI_TORCH_ERROR_CODE_CHECK defined in
// pytorch/torch/csrc/inductor/aoti_runtime/utils.h to handle the returns
// of the APIs in the shim. We are genericizing this for more global use
// of the shim beyond AOTI, for examples, see torch/csrc/stable/ops.h.
#define TORCH_ERROR_CODE_CHECK(call)                                       \
  if ((call) != TORCH_SUCCESS) {                                           \
    torch::headeronly::detail::throw_exception(#call, __FILE__, __LINE__); \
  }

```

## High-Level Overview

This file is part of the PyTorch repository. It is a C++/CUDA source/header file that may contain implementations, declarations, or kernel code.

## Detailed Walkthrough


## Key Components

The file contains 112 words across 29 lines of code/text.

## Usage & Examples

This file is part of the larger PyTorch codebase. For usage examples, refer to related test files and documentation.

## Performance & Security Notes

- File size: 1028 bytes
- Complexity: Standard

## Related Files

See the folder index for related files in the same directory.

## Testing

Refer to the PyTorch test suite for test coverage of this file.

---
*Generated by Repo Book Generator v1.0*
