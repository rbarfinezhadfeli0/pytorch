# Documentation: test_pytest_caching_utils.py

## File Metadata
- **Path**: `.github/scripts/test_pytest_caching_utils.py`
- **Size**: 3157 bytes
- **Lines**: 84
- **Extension**: .py
- **Type**: Regular file

## Original Source

```py
from unittest import main, TestCase

from pytest_caching_utils import _merged_lastfailed_content


class TestPytestCachingUtils(TestCase):
    def test_merged_lastfailed_content_with_overlap(self) -> None:
        last_failed_source = {
            "tools/tests/test_foo.py::test_num1": True,
            "tools/tests/test_foo.py::test_num2": True,
            "tools/tests/test_bar.py::test_num1": True,
        }
        last_failed_dest = {
            "tools/tests/test_foo.py::test_num1": True,
            "tools/tests/test_car.py::test_num1": True,
            "tools/tests/test_car.py::test_num2": True,
        }
        last_failed_merged = {
            "tools/tests/test_foo.py::test_num1": True,
            "tools/tests/test_foo.py::test_num2": True,
            "tools/tests/test_bar.py::test_num1": True,
            "tools/tests/test_car.py::test_num1": True,
            "tools/tests/test_car.py::test_num2": True,
        }

        merged = _merged_lastfailed_content(last_failed_source, last_failed_dest)
        self.assertEqual(merged, last_failed_merged)

    def test_merged_lastfailed_content_without_overlap(self) -> None:
        last_failed_source = {
            "tools/tests/test_foo.py::test_num1": True,
            "tools/tests/test_foo.py::test_num2": True,
            "tools/tests/test_bar.py::test_num1": True,
        }
        last_failed_dest = {
            "tools/tests/test_car.py::test_num1": True,
            "tools/tests/test_car.py::test_num2": True,
        }
        last_failed_merged = {
            "tools/tests/test_foo.py::test_num1": True,
            "tools/tests/test_foo.py::test_num2": True,
            "tools/tests/test_bar.py::test_num1": True,
            "tools/tests/test_car.py::test_num1": True,
            "tools/tests/test_car.py::test_num2": True,
        }

        merged = _merged_lastfailed_content(last_failed_source, last_failed_dest)
        self.assertEqual(merged, last_failed_merged)

    def test_merged_lastfailed_content_with_empty_source(self) -> None:
        last_failed_source = {
            "": True,
        }
        last_failed_dest = {
            "tools/tests/test_car.py::test_num1": True,
            "tools/tests/test_car.py::test_num2": True,
        }
        last_failed_merged = {
            "tools/tests/test_car.py::test_num1": True,
            "tools/tests/test_car.py::test_num2": True,
        }

        merged = _merged_lastfailed_content(last_failed_source, last_failed_dest)
        self.assertEqual(merged, last_failed_merged)

    def test_merged_lastfailed_content_with_empty_dest(self) -> None:
        last_failed_source = {
            "tools/tests/test_car.py::test_num1": True,
            "tools/tests/test_car.py::test_num2": True,
        }
        last_failed_dest = {
            "": True,
        }
        last_failed_merged = {
            "tools/tests/test_car.py::test_num1": True,
            "tools/tests/test_car.py::test_num2": True,
        }

        merged = _merged_lastfailed_content(last_failed_source, last_failed_dest)
        self.assertEqual(merged, last_failed_merged)


if __name__ == "__main__":
    main()

```

## High-Level Overview

This file is part of the PyTorch repository. It is a Python source file that may contain classes, functions, and module-level code.

## Detailed Walkthrough

### Classes
This file defines 1 class(es): TestPytestCachingUtils

### Functions
This file defines 4 function(s): test_merged_lastfailed_content_with_overlap, test_merged_lastfailed_content_without_overlap, test_merged_lastfailed_content_with_empty_source, test_merged_lastfailed_content_with_empty_dest


## Key Components

The file contains 166 words across 84 lines of code/text.

## Usage & Examples

This file is part of the larger PyTorch codebase. For usage examples, refer to related test files and documentation.

## Performance & Security Notes

- File size: 3157 bytes
- Complexity: Standard

## Related Files

See the folder index for related files in the same directory.

## Testing

Refer to the PyTorch test suite for test coverage of this file.

---
*Generated by Repo Book Generator v1.0*
