# Documentation: `c10/xpu/CMakeLists.txt`

## File Metadata

- **Path**: `c10/xpu/CMakeLists.txt`
- **Size**: 1,951 bytes (1.91 KB)
- **Type**: Source File (.txt)
- **Extension**: `.txt`

## File Purpose

This is a source file (.txt) that is part of the PyTorch project.

## Original Source

```
# Build file for the C10 XPU.
#
# C10 XPU is a minimal library, but it does depend on SYCL.

include(../../cmake/public/xpu.cmake)

if(NOT BUILD_LIBTORCHLESS)
  find_library(C10_XPU_LIB c10_xpu PATHS $ENV{LIBTORCH_LIB_PATH} NO_DEFAULT_PATH)
endif()

# ---[ Configure macro file.
set(C10_XPU_BUILD_SHARED_LIBS ${BUILD_SHARED_LIBS}) # used in xpu_cmake_macros.h.in
configure_file(
    ${CMAKE_CURRENT_LIST_DIR}/impl/xpu_cmake_macros.h.in
    ${CMAKE_BINARY_DIR}/c10/xpu/impl/xpu_cmake_macros.h)

set(C10_XPU_SRCS
    XPUCachingAllocator.cpp
    XPUFunctions.cpp
    XPUStream.cpp
    impl/XPUGuardImpl.cpp
)
set(C10_XPU_HEADERS
    XPUCachingAllocator.h
    XPUDeviceProp.h
    XPUException.h
    XPUEvent.h
    XPUFunctions.h
    XPUMacros.h
    XPUStream.h
    impl/XPUGuardImpl.h
)
if(NOT BUILD_LIBTORCHLESS)
  add_library(c10_xpu ${C10_XPU_SRCS} ${C10_XPU_HEADERS})
  torch_compile_options(c10_xpu)
  target_compile_options(c10_xpu PRIVATE "-DC10_XPU_BUILD_MAIN_LIB")
  # Enable hidden visibility if compiler supports it.
  if(${COMPILER_SUPPORTS_HIDDEN_VISIBILITY})
    target_compile_options(c10_xpu PRIVATE "-fvisibility=hidden")
  endif()

  # ---[ Dependency of c10_xpu
  target_link_libraries(c10_xpu PUBLIC c10 torch::xpurt)
  target_include_directories(
      c10_xpu PUBLIC
      $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/../..>
      $<BUILD_INTERFACE:${CMAKE_BINARY_DIR}>
      $<INSTALL_INTERFACE:include>
      )
  install(TARGETS c10_xpu EXPORT Caffe2Targets DESTINATION lib)
  set(C10_XPU_LIB c10_xpu)
  add_subdirectory(test)
endif()

# ---[ Installation

foreach(file ${C10_XPU_HEADERS})
  get_filename_component(dir ${file} DIRECTORY)
  install(FILES ${file} DESTINATION include/c10/xpu/${dir})
endforeach()
install(FILES ${CMAKE_BINARY_DIR}/c10/xpu/impl/xpu_cmake_macros.h
  DESTINATION include/c10/xpu/impl)

if(MSVC AND C10_XPU_BUILD_SHARED_LIBS)
  install(FILES $<TARGET_PDB_FILE:c10_xpu> DESTINATION lib OPTIONAL)
endif()

```



## High-Level Overview

This file is part of the PyTorch framework located at `c10/xpu`.

## Detailed Analysis

### Code Structure


*For complete code details, see the Original Source section above.*


## Architecture & Design

### Role in PyTorch Architecture

This file is located in `c10/xpu`, which is part of **C10** (Caffe2 Core), the core library providing fundamental abstractions.



## Dependencies

### Import Dependencies

*Dependency analysis not applicable for this file type.*


## Code Patterns & Idioms

### Common Patterns

*No specific patterns automatically detected.*


## Performance Considerations

### Performance Notes

- May involve **JIT compilation** or compilation optimizations.

*Detailed performance analysis requires profiling and benchmarking.*


## Security & Safety

### Security Considerations

- No obvious security concerns detected in automated analysis.

*Manual security review is recommended for production code.*


## Testing & Usage

### Testing

Test files for this module may be located in the `test/` directory.

### Usage Examples

*See the source code and related test files for usage examples.*


## Related Files

### Related Files

Files in the same folder (`c10/xpu`):

- [`XPUCachingAllocator.cpp_docs.md`](./XPUCachingAllocator.cpp_docs.md)
- [`XPUException.h_docs.md`](./XPUException.h_docs.md)
- [`XPUGraphsC10Utils.h_docs.md`](./XPUGraphsC10Utils.h_docs.md)
- [`XPUFunctions.h_docs.md`](./XPUFunctions.h_docs.md)
- [`XPUCachingAllocator.h_docs.md`](./XPUCachingAllocator.h_docs.md)
- [`XPUMacros.h_docs.md`](./XPUMacros.h_docs.md)
- [`XPUStream.h_docs.md`](./XPUStream.h_docs.md)
- [`XPUFunctions.cpp_docs.md`](./XPUFunctions.cpp_docs.md)
- [`XPUEvent.h_docs.md`](./XPUEvent.h_docs.md)


## Cross-References

- **File Documentation**: `CMakeLists.txt_docs.md`
- **Keyword Index**: `CMakeLists.txt_kw.md`
- **Folder Index**: `index.md`
- **Folder Documentation**: `doc.md`

---

*Generated by PyTorch Repository Documentation System*
