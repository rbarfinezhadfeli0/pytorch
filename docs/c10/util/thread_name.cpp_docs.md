# Documentation: thread_name.cpp

## File Metadata
- **Path**: `c10/util/thread_name.cpp`
- **Size**: 981 bytes
- **Lines**: 46
- **Extension**: .cpp
- **Type**: Regular file

## Original Source

```cpp
#include <c10/util/thread_name.h>

#include <algorithm>
#include <array>

#ifndef __GLIBC_PREREQ
#define __GLIBC_PREREQ(x, y) 0
#endif

#if defined(__GLIBC__) && __GLIBC_PREREQ(2, 12) && !defined(__APPLE__) && \
    !defined(__ANDROID__)
#define C10_HAS_PTHREAD_SETNAME_NP
#endif

#ifdef C10_HAS_PTHREAD_SETNAME_NP
#include <pthread.h>
#endif

namespace c10 {

#ifdef C10_HAS_PTHREAD_SETNAME_NP
namespace {
// pthreads has a limit of 16 characters including the null termination byte.
constexpr size_t kMaxThreadName = 15;
} // namespace
#endif

void setThreadName(std::string name) {
#ifdef C10_HAS_PTHREAD_SETNAME_NP
  name.resize(std::min(name.size(), kMaxThreadName));

  pthread_setname_np(pthread_self(), name.c_str());
#endif
}

std::string getThreadName() {
#ifdef C10_HAS_PTHREAD_SETNAME_NP
  std::array<char, kMaxThreadName + 1> name{};
  pthread_getname_np(pthread_self(), name.data(), name.size());
  return name.data();
#else
  return "";
#endif
}

} // namespace c10

```

## High-Level Overview

This file is part of the PyTorch repository. It is a C++/CUDA source/header file that may contain implementations, declarations, or kernel code.

## Detailed Walkthrough


## Key Components

The file contains 96 words across 46 lines of code/text.

## Usage & Examples

This file is part of the larger PyTorch codebase. For usage examples, refer to related test files and documentation.

## Performance & Security Notes

- File size: 981 bytes
- Complexity: Standard

## Related Files

See the folder index for related files in the same directory.

## Testing

Refer to the PyTorch test suite for test coverage of this file.

---
*Generated by Repo Book Generator v1.0*
