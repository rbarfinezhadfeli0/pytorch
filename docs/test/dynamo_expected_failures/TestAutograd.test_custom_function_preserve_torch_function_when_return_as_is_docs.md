# Documentation: TestAutograd.test_custom_function_preserve_torch_function_when_return_as_is

## File Metadata
- **Path**: `test/dynamo_expected_failures/TestAutograd.test_custom_function_preserve_torch_function_when_return_as_is`
- **Size**: 593 bytes
- **Lines**: 10
- **Extension**: .test_custom_function_preserve_torch_function_when_return_as_is
- **Type**: Regular file

## Original Source

```test_custom_function_preserve_torch_function_when_return_as_is
- Need to handle `class` block inside `torch.compile` region (`LOAD_BUILD_CLASS`)
or properly graph break on it rather than skipping the frame altogether.
https://github.com/pytorch/pytorch/issues/128942

Fundamental issue is Dynamo tries to probe tensor object properties, but that
could trigger user-defined `__torch_function__` for tensor subclass objects.

In this case the `LOAD_BUILD_CLASS` error caused Dynamo to start tracing in the
`__init__` of the following class, but `self._data = data` hasn't fired yet, and
its `__torch_function__` errors when Dynamo is probing tensor property

```

## High-Level Overview

This file is part of the PyTorch repository. It is a source or configuration file.

## Detailed Walkthrough


## Key Components

The file contains 78 words across 10 lines of code/text.

## Usage & Examples

This file is part of the larger PyTorch codebase. For usage examples, refer to related test files and documentation.

## Performance & Security Notes

- File size: 593 bytes
- Complexity: Standard

## Related Files

See the folder index for related files in the same directory.

## Testing

Refer to the PyTorch test suite for test coverage of this file.

---
*Generated by Repo Book Generator v1.0*
