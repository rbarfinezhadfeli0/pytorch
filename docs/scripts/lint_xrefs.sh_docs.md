# Documentation: `scripts/lint_xrefs.sh`

## File Metadata

- **Path**: `scripts/lint_xrefs.sh`
- **Size**: 1,574 bytes (1.54 KB)
- **Type**: Shell Script
- **Extension**: `.sh`

## File Purpose

This file is a **utility or tool script**.

## Original Source

```bash
#!/bin/bash

set -euo pipefail

status=0
green='\e[1;32m'; red='\e[1;31m'; cyan='\e[1;36m'; yellow='\e[1;33m'; reset='\e[0m'
last_filepath=

while IFS=: read -r filepath link; do
  if [ "$filepath" != "$last_filepath" ]; then
    printf '\n%s:\n' "$filepath"
    last_filepath=$filepath
  fi
  if [ -e "$(dirname "$filepath")/${link%%#*}" ]; then
    printf " ${green}OK${reset}  ${cyan}%s${reset}\n" "$link"
  else
    printf "${red}FAIL${reset} ${yellow}%s${reset}\n" "$link" >&2
    status=1
  fi
done < <(
  pattern='(?!.*@lint-ignore)(?:\[[^]]+\]\([^[:space:]\)]+/[^[:space:]\)]+\)|href="[^"]*/[^"]*"|src="[^"]*/[^"]*")'
  excludes=(
    ':(exclude,glob)**/.*'
    ':(exclude,glob)**/*.lock'
    ':(exclude,glob)**/*.svg'
    ':(exclude,glob)**/*.xml'
    ':(exclude,glob)**/*.gradle*'
    ':(exclude,glob)**/*gradle*'
    ':(exclude,glob)**/third-party/**'
    ':(exclude,glob)**/third_party/**'
  )
  if [ $# -eq 2 ]; then
    for filename in $(git diff --name-only --unified=0 "$1...$2"); do
      git diff --unified=0 "$1...$2" -- "$filename" "${excludes[@]}" \
        | grep -E '^\+' \
        | grep -Ev '^\+\+\+' \
        | perl -nle 'print for m#'"$pattern"'#g' \
        | sed 's|^|'"$filename"':|'
    done
  else
    git --no-pager grep --no-color -I -P -o "$pattern" -- . "${excludes[@]}"
  fi \
  | grep -Ev 'https?://' \
  | sed -E \
      -e 's#([^:]+):\[[^]]+\]\(([^)]+)\)#\1:\2#' \
      -e 's#([^:]+):href="([^"]+)"#\1:\2#' \
      -e 's#([^:]+):src="([^"]+)"#\1:\2#' \
      -e 's/[[:punct:]]*$//' \
  | grep -Ev '\{\{' \
  || true
)

exit $status

```



## High-Level Overview

This file is part of the PyTorch framework located at `scripts`.

## Detailed Analysis

### Code Structure


*For complete code details, see the Original Source section above.*


## Architecture & Design

### Role in PyTorch Architecture

This file is located in `scripts`, which contains **development tools and scripts**.



## Dependencies

### Import Dependencies

*Dependency analysis not applicable for this file type.*


## Code Patterns & Idioms

### Common Patterns

*No specific patterns automatically detected.*


## Performance Considerations

### Performance Notes


*Detailed performance analysis requires profiling and benchmarking.*


## Security & Safety

### Security Considerations

- No obvious security concerns detected in automated analysis.

*Manual security review is recommended for production code.*


## Testing & Usage

### Testing

Test files for this module may be located in the `test/` directory.

### Usage Examples

*See the source code and related test files for usage examples.*


## Related Files

### Related Files

Files in the same folder (`scripts`):

- [`build_host_protoc.sh_docs.md`](./build_host_protoc.sh_docs.md)
- [`setup_hooks.py_docs.md`](./setup_hooks.py_docs.md)
- [`README.md_docs.md`](./README.md_docs.md)
- [`lint_urls.sh_docs.md`](./lint_urls.sh_docs.md)
- [`lintrunner.py_docs.md`](./lintrunner.py_docs.md)
- [`install_triton_wheel.sh_docs.md`](./install_triton_wheel.sh_docs.md)


## Cross-References

- **File Documentation**: `lint_xrefs.sh_docs.md`
- **Keyword Index**: `lint_xrefs.sh_kw.md`
- **Folder Index**: `index.md`
- **Folder Documentation**: `doc.md`

---

*Generated by PyTorch Repository Documentation System*
