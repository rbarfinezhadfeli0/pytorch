# Documentation: test_release_notes.py

## File Metadata
- **Path**: `scripts/release_notes/test_release_notes.py`
- **Size**: 2235 bytes
- **Lines**: 55
- **Extension**: .py
- **Type**: Regular file

## Original Source

```py
import tempfile
import unittest

from commitlist import CommitList


class TestCommitList(unittest.TestCase):
    def test_create_new(self):
        with tempfile.TemporaryDirectory() as tempdir:
            commit_list_path = f"{tempdir}/commitlist.csv"
            commit_list = CommitList.create_new(
                commit_list_path, "v1.5.0", "6000dca5df"
            )
            self.assertEqual(len(commit_list.commits), 33)
            self.assertEqual(commit_list.commits[0].commit_hash, "7335f079abb")
            self.assertTrue(
                commit_list.commits[0].title.startswith("[pt][quant] qmul and qadd")
            )
            self.assertEqual(commit_list.commits[-1].commit_hash, "6000dca5df6")
            self.assertTrue(
                commit_list.commits[-1].title.startswith(
                    "[nomnigraph] Copy device option when customize "
                )
            )

    def test_read_write(self):
        with tempfile.TemporaryDirectory() as tempdir:
            commit_list_path = f"{tempdir}/commitlist.csv"
            initial = CommitList.create_new(commit_list_path, "v1.5.0", "7543e7e558")
            initial.write_to_disk()

            expected = CommitList.from_existing(commit_list_path)
            expected.commits[-2].category = "foobar"
            expected.write_to_disk()

            commit_list = CommitList.from_existing(commit_list_path)
            for commit, expected_commit in zip(commit_list.commits, expected.commits):
                self.assertEqual(commit, expected_commit)

    def test_update_to(self):
        with tempfile.TemporaryDirectory() as tempdir:
            commit_list_path = f"{tempdir}/commitlist.csv"
            initial = CommitList.create_new(commit_list_path, "v1.5.0", "7543e7e558")
            initial.commits[-2].category = "foobar"
            self.assertEqual(len(initial.commits), 2143)
            initial.write_to_disk()

            commit_list = CommitList.from_existing(commit_list_path)
            commit_list.update_to("5702a28b26")
            self.assertEqual(len(commit_list.commits), 2143 + 4)
            self.assertEqual(commit_list.commits[-5], initial.commits[-1])


if __name__ == "__main__":
    unittest.main()

```

## High-Level Overview

This file is part of the PyTorch repository. It is a Python source file that may contain classes, functions, and module-level code.

## Detailed Walkthrough

### Classes
This file defines 1 class(es): TestCommitList

### Functions
This file defines 3 function(s): test_create_new, test_read_write, test_update_to


## Key Components

The file contains 117 words across 55 lines of code/text.

## Usage & Examples

This file is part of the larger PyTorch codebase. For usage examples, refer to related test files and documentation.

## Performance & Security Notes

- File size: 2235 bytes
- Complexity: Standard

## Related Files

See the folder index for related files in the same directory.

## Testing

Refer to the PyTorch test suite for test coverage of this file.

---
*Generated by Repo Book Generator v1.0*
